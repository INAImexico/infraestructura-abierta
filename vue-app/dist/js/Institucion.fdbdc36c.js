(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Institucion"],{a44b:function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("ul",{staticClass:"breadcrumb"},[s("li",[s("router-link",{attrs:{to:"/"}},[t._v(" Inicio")])],1),s("li",[s("router-link",{attrs:{to:"/instituciones"}},[t._v(" Instituciones")])],1),t.institution?s("li",[t._v(t._s(t.institution.name))]):s("li",[t._v("No se encontró institución")])]),t.institution?s("div",[s("div",{staticClass:"ai_social_sharing"},[s("social-sharing",{attrs:{url:t.location,title:t.institution.name,description:"",quote:"",hashtags:"InfraestructuraAbierta"},inlineTemplate:{render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("network",{attrs:{network:"facebook"}},[s("span",{staticClass:"sm fb"},[t._v("Facebook")])]),s("network",{attrs:{network:"twitter"}},[s("span",{staticClass:"sm tw"},[t._v("Twitter")])]),s("network",{attrs:{network:"telegram"}},[s("span",{staticClass:"sm tl"},[t._v("Telegram")])])],1)},staticRenderFns:[]}})],1),s("section",{staticClass:"ia_hero"},[s("div",{staticClass:"ia_pjid"},[s("p",[t._v("RFC: "),s("strong",[t._v(t._s(t.institution.id))])])]),s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12 col-lg-6 mb-2"},[s("h1",{staticClass:"ia_title_hm profile mb-3 pb-3"},[t._v(t._s(t.institution.name))]),s("p",[s("strong",[t._v("Razón social:")]),t._v(" "+t._s(t.institution.identifier.legalName)),s("br"),s("strong",[t._v("Contacto:")]),t._v(" "+t._s(t.institution.contactPoint.name)),s("br"),s("strong",[t._v("Dirección:")]),t._v(" "+t._s(t.institution.address.streetAddress?t.institution.address.streetAddress+", ":"")+" "+t._s(t.institution.address.locality?t.institution.address.locality+", ":"")+" "+t._s(t.institution.address.region?t.institution.address.region+", ":"")+" "+t._s(t.institution.address.postalCode?"C.P. "+t.institution.address.postalCode+", ":"")+" "),s("br"),t._v(" "+t._s(t.institution.address.countryName)+" ")])]),s("div",{staticClass:"col-12 col-sm-4 text-center"},[s("div",{staticClass:"ia_svg white w_30"},[s("money-svg")],1),s("h3",{staticClass:"ia_amount_section white mb-1"},[t._v("$"+t._s(t.format(t.executedBudget)))]),s("p",[t._v("Monto Ejercido (MXN)")])]),s("div",{staticClass:"col text-center"},[s("div",{staticClass:"ia_svg white w_30"},[s("proyecto-svg")],1),s("h3",{staticClass:"ia_amount_section white mb-1"},[t._v(t._s(t.projects.length))]),s("p",[t._v("Proyectos")])]),s("div",{staticClass:"col text-center"},[s("div",{staticClass:"ia_svg white w_30"},[s("contrataciones-svg")],1),s("h3",{staticClass:"ia_amount_section white mb-1"},[t._v(t._s(t.contracts.length))]),s("p",[t._v("Contratos")])])])])]),s("section",[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col col-sm-6 col-md-4 text-center"},[t._m(0),s("div",{staticClass:"ia_svg h_25 w_20 min"},[s("email-svg")],1),s("p",{staticClass:"ia_amount_section"},[t.institution.contactPoint.email?s("span",{staticClass:"ia_currency _gray"},[s("a",{attrs:{href:""+t.institution.contactPoint.uri}},[t._v(t._s(t.institution.contactPoint.email))])]):s("span",{staticClass:"ia_currency _gray"},[t._v(" Sin dato ")])])]),s("div",{staticClass:"col text-center"},[t._m(1),s("div",{staticClass:"ia_svg h_25 w_20 min"},[s("phone-svg")],1),s("p",{staticClass:"ia_amount_section"},[s("span",{staticClass:"ia_currency _gray"},[t._v(t._s(t.institution.contactPoint.telephone))])])]),s("div",{staticClass:"col text-center"},[t._m(2),s("div",{staticClass:"ia_svg h_25 w_20 min"},[s("url-svg")],1),s("p",{staticClass:"ia_amount_section"},[t.institution.identifier.uri?s("span",{staticClass:"ia_currency _gray"},[s("a",{attrs:{href:""+t.institution.identifier.uri}},[t._v(t._s(t.institution.identifier.uri))])]):s("span",{staticClass:"ia_currency _gray"},[t._v(" Sin dato ")])])])]),s("div",{staticClass:"row mt-4 pt-4 mb-4 pb-4"},[s("div",{staticClass:"col"},[s("h2",[t._v("Mapa de relaciones")]),t._m(3),s("relation-graph",{attrs:{institution:t.institution,projects:t.projects,providers:t.providers}})],1)]),t._m(4),t._m(5),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},t._l(t.contracts,(function(t,i){return s("contract-item",{key:i+"des",attrs:{data:t}})})),1)])])])]):t._e(),s("ver-glosario")],1)},n=[function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("p",{staticClass:"ia_amount_des mb-3"},[s("span",{staticClass:"ia_amount_sub"},[t._v("Correo Electrónico")])])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("p",{staticClass:"ia_amount_des mb-3"},[s("span",{staticClass:"ia_amount_sub"},[t._v("Teléfono")])])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("p",{staticClass:"ia_amount_des mb-3"},[s("span",{staticClass:"ia_amount_sub"},[t._v("Web")])])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("ul",{staticClass:"ia_bars_color_guide mt-4 pt-4"},[s("li",[s("b",{staticClass:"ia_color_guide_circle second"}),t._v(" "),s("strong",[t._v("Institución")])]),s("li",[s("b",{staticClass:"ia_color_guide_circle contract"}),t._v(" "),s("strong",[t._v("Proyecto")])]),s("li",[s("b",{staticClass:"ia_color_guide_circle"}),t._v(" "),s("strong",[t._v("Contratista")])])])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"row mt-4 mb-4"},[s("div",{staticClass:"col"},[s("div",{staticClass:"ia_separator bottom"})])])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"row mt-4 mb-4"},[s("div",{staticClass:"col"},[s("h2",[t._v("Contrataciones en las que participa")]),s("form",{staticClass:"form"},[s("div",{staticClass:"ia_form_hm ia_form_global"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("input",{staticClass:"ia_search sm_i",attrs:{type:"text",placeholder:"Buscar palabra clave"}}),s("button",{staticClass:"sm_i",attrs:{type:"submit"}},[s("i",{staticClass:"ia_search_i"})])])])])])])])}],o=(s("a15b"),s("b58c")),a=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"ia_bubbles_relation"},[s("svg",{attrs:{width:"auto",height:t.height,viewBox:"0 0 "+t.width+" "+t.height}},[t._l(t.linesLv1,(function(i,e){return s("line",{key:e+"-some-line",style:{stroke:t.colors[3],"stroke-width":1.5},attrs:{x1:i.from[0],y1:i.from[1],x2:i.to[0],y2:i.to[1]}})})),t._l(t.linesLv2,(function(i,e){return s("line",{key:e+"-some-line-b",style:{stroke:t.colors[4],"stroke-width":1.5},attrs:{x1:i.from[0],y1:i.from[1],x2:i.to[0],y2:i.to[1]}})})),t._l(t.items,(function(i,e){return s("circle",{key:e+"-circle",attrs:{r:i.r,cx:i.x,cy:i.y,fill:i.color},on:{mouseover:function(s){return t.showpopup(i,s)},mouseout:t.hidepopup,mousemove:function(s){return t.updatepopup(i,s)},click:function(s){return t.gotoURL(i)}}})}))],2)])},r=[],c=(s("99af"),s("4de4"),s("0481"),s("4160"),s("c975"),s("d81d"),s("4069"),s("b0c0"),s("159b"),Object.assign({},s("0a4a"))),u={props:["institution","projects","providers"],data:function(){return{items:[],linesLv1:[],linesLv2:[],width:400,height:400,simulation:null,colors:["#5232c2","#30bcc5","#1182f2","#4FB0C6","#038bbb"]}},methods:{showpopup:function(t,i){var s="\n        <h4>".concat(t.title,"</h4>\n        <p>(").concat(t.type,")</p>\n      "),e={html:s,event:i};this.$store.commit("showPopup",e)},hidepopup:function(){this.$store.commit("hidePopup")},updatepopup:function(t,i){this.$store.commit("updatePopup",i)},gotoURL:function(t){this.$store.commit("hidePopup"),this.$router.push(t.url)},updateLines:function(){var t=this;this.linesLv1=this.itemsLv1.map((function(i){return{from:[i.x,i.y],to:[t.center.x,t.center.y]}})),this.linesLv2=this.itemsLv1.map((function(i){var s=t.itemsLv2.filter((function(t){return-1!=i.suppliers.indexOf(t.id)}));return s.map((function(t){return{from:[i.x,i.y],to:[t.x,t.y]}}))})).flat()}},mounted:function(){this.items=[this.center,this.itemsLv1,this.itemsLv2].flat();this.institutionProjectLinks,this.projectProviderLinks;this.simulation=c.forceSimulation(this.items).force("charge",c.forceManyBody().strength(10)).force("collide",c.forceCollide().radius((function(t){return t.r+5}))),this.simulation.on("tick",this.updateLines)},computed:{center:function(){return{title:this.institution.name,color:this.colors[0],x:this.width/8,y:this.height/2,r:50,type:"institution"}},itemsLv1:function(){var t=this,i=this.projects,s=i.map((function(i){return{title:i.title,color:t.colors[1],x:t.width/2,y:t.height/2,r:30,type:"project",id:i.id,suppliers:i.parties.filter((function(t){return-1!=t.roles.indexOf("supplier")})).map((function(t){return t.id})),url:{path:"/proyecto/".concat(i.id)}}}));return s},itemsLv2:function(){var t=this,i=this.providers,s=i.map((function(i){return{title:i.name,color:t.colors[2],x:t.width/1,y:t.height/2,r:15,type:"provider",id:i.id,url:{path:"/contratista/".concat(i.id)}}}));return s},institutionProjectLinks:function(){return this.itemsLv1.map((function(t,i){return{source:i+1,target:0}}))},projectProviderLinks:function(){var t=this,i=[];return this.itemsLv1.forEach((function(s,e){var n=t.$store.getters.ProjectProviders(s.id).map((function(t){return t.id})),o=t.itemsLv2.filter((function(t){return-1!=n.indexOf(t.id)})),a=o.map((function(i,s){var n=1+e,o=1+t.itemsLv1.length+s;return{source:o,target:n}}));console.log("wtf:",n,o,a),i.push(a)})),i.flat()}}},l=u,_=s("2877"),d=Object(_["a"])(l,a,r,!1,null,null,null),v=d.exports,m=s("e577"),h=s("f8a2"),p=s("5299"),f=s.n(p),g=s("c11b"),C=s("e6b7"),b=s("5561"),w=s("680d"),y=s("ece7"),x=s("27cb"),k=s("9350"),$={methods:{getDate:function(t){var i=this.$store.getters.getDateObject(t);return i},format:function(t){return this.$store.getters.formatNumber(t)},translate:function(t){return this.$store.getters.translate(t).join(", ")}},computed:{institution:function(){return this.$store.getters.getInstitution(this.$route.params.id)},projects:function(){return this.$store.getters.institutionProjects(this.institution)},providers:function(){return this.$store.getters.institutionProviders(this.institution)},contracts:function(){return this.$store.getters.institutionContracts(this.institution)},executedBudget:function(){var t=this.$store.getters.institutionContractsAsPayer(this.institution);return this.$store.getters.contractsExecutedBudget(t)},location:function(){return window.location.href}},components:{BuscadorAvanzado:o["a"],RelationGraph:v,ContractItem:m["a"],VerGlosario:h["default"],SocialSharing:f.a,ContratacionesSvg:g["a"],MoneySvg:b["a"],UbicacionSvg:x["a"],EmailSvg:C["a"],PhoneSvg:w["a"],UrlSvg:k["a"],ProyectoSvg:y["a"]}},L=$,P=Object(_["a"])(L,e,n,!1,null,null,null);i["default"]=P.exports}}]);
//# sourceMappingURL=Institucion.fdbdc36c.js.map